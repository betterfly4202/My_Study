이홍래 테크니컬 트레이너

# 2. S3, EBS
* S3(Simple Storage Service)

인터넷이 되는 곳이라면 어디서든지 접근 가능한 스토리지
** 오브젝트 스토리지


## 일반 사용 시나리오
- 스토리지 및 백업
- 애플리케이션 파일 호스팅
- 미디어 호스팅
- 소프트웨어 전송
- AMI 및 스냅샷 저장


## S3 개념
- 글로벌하게 유니크한 버킷 네임 생성(인터넷으로 세계 어떤 지역에서도 접근하기 때문에 글로벌함. 그래서 전 세계에서 유일한 버킷 네임)
- 각 객체는 파일과 해당 파일을 설명하는 모든 데이터로 구성
- 하나의 계정에 최대 100개의 버킷 보유 가능
- 버킷 및 버킷의 객체에 대한 액세스 제어 가능
    (사용자마자 다운로드/업로드 기능을 부여하거나 제어 가능)
    

객체 킷
객체 키는 버킷 내 객체의 고유한 식별자
http://doc.s3.amazoneaws.com/2006-12-11/AmazonS3.html
doc << 버킷 // AmazonS3.html << 객체/키

폴더 안에 파일을 만들었다면 그 파일 자체가 객체 키 임


## S3 보안
다음을 통해 버킷 및 객체에 대한 액세스를 제어할 수 있음
- ACL(액세스 제어 목록)
- 버킷 정책
- Identity and Access Management(AMI) 정책


## 버전 관리 기능
기본값은 활성화되어 있지 않음. 사용자가 버전관리를 활성화하면 사용자가 실수로 삭제하거나 변경한 경우 버전을 가져와 다시 복구할 수 있음

- 성능 저하 없이 실수로 덮어쓰거나 삭제하는 것을 방지
- 모든 업로드에 대해 새 버전을 생성
- 삭제된 객체를 쉽게 검색하거나 이전 버전으로 롤백할 수 있음

S3 버킷으 ㅣ세가지 상태
    1. 버전관리 되지 않음(기본)
    2. 버전관리 활성화
    3. 버전관리 중단됨 >> 한번 활성화 후에는 비활성으로 되지 않음 왜냐하면 비활성이 되면 버전에 모든 기록이 지워지기 때문에 중단 상태로해야 기존 버전이 남아 있음
    
    
## 객체의 수명 주기
수명 주기 관리는 S3가 객체의 수명 주기 동안 객체를 관리하는 방법

>가장 액세스 빈도가 높은 데이터는 무엇일까?
가장 최근에 만든 데이터 > 최근의 데이터

값비싼 서비스를 이용하는데 액세스를 하지 않는 데이터를 적재하는 것은 비용 낭비이다.

사용자가 개입하지 않아도 우리가 객체의 수명을 관리하여 원하는 공간으로 옮길 수 있다
예를들어 30일 후에 a클래스로 이동후 거기서 액세스를 하지 않으면  b클래스 등으로 수명을 관리할 수 있음


## 요금
- 사용한 만큼만 비용
- 최소 요금 없음
- 상파울로 리전이 가장 높은 서비스 비용을 발생하는데 그 이유는 상파울로에 전력이 부족해서 AWS에서 그런 부분에서 발생하는 비용까지 부담하게 됨


### Amazon Glacier
사용자의 액세스는 거의 일어나지 않지만, 장기적으로 반드시 보관해야하는 객체가 필요하다면 이 저장소를 쓰면된다

- 저렴한 장기 아카이빙 서비스
- 자주 액세스하지 안흔ㄴ 데이터에 최적
- 99.9999999999% 내구성
- 검색에 3~5시간 소요됨

S3 Class(액세스 빈도 순으로 클래스 변경하면됨)
- Standard
- Standard - Infrequent Access(IA)
- Glacier




### Amazon Elastic Block Store(EBS)

- 일관되고 지연 시간이 짧은 성능을 제공하는 **영구 블록 수준 스토리지**



## EBS 수명 주기
CreateVolume 호출 (1GiB~16TiB)의 볼륨을 생성할 수 있음

